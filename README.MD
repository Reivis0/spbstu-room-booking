# üéì –°–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∞—É–¥–∏—Ç–æ—Ä–∏–π –°–ü–±–ü–£

---

## üìã Problem Definition

–°—Ç—É–¥–µ–Ω—Ç—ã –∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏ –°–ü–±–ü–£ —Å—Ç–∞–ª–∫–∏–≤–∞—é—Ç—Å—è —Å –ø—Ä–æ–±–ª–µ–º–æ–π –ø–æ–∏—Å–∫–∞ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –∞—É–¥–∏—Ç–æ—Ä–∏–π –¥–ª—è —É—á–µ–±–Ω—ã—Ö –∏ –≤–Ω–µ—É—á–µ–±–Ω—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π, —Ç–∞–∫ –∫–∞–∫ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –∑–∞–Ω—è—Ç–∏–π. –°—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Å–∏—Å—Ç–µ–º–∞ RUZ API –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∞—É–¥–∏—Ç–æ—Ä–∏–π –∏ –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è. –¢–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–≥–æ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏, —á—Ç–æ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–¥–µ—Ä–∂–∫–∏ –∏ –Ω–µ—É–¥–æ–±—Å—Ç–≤–∞ –¥–ª—è –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–∞.

---

## üë• User Stories

### üîç US-1: –ü–æ–∏—Å–∫ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –∞—É–¥–∏—Ç–æ—Ä–∏–π
**–ö–∞–∫** —Å—Ç—É–¥–µ–Ω—Ç –∏–ª–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å,  
**–Ø —Ö–æ—á—É** –Ω–∞–π—Ç–∏ —Å–≤–æ–±–æ–¥–Ω—ã–µ –∞—É–¥–∏—Ç–æ—Ä–∏–∏ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—É—é –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è,  
**–ß—Ç–æ–±—ã** –≤—ã–±—Ä–∞—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–µ–µ –ø–æ–º–µ—â–µ–Ω–∏–µ –¥–ª—è —Å–≤–æ–µ–≥–æ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è.

**‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- –°–∏—Å—Ç–µ–º–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∞—É–¥–∏—Ç–æ—Ä–∏–π —Å —É—á–µ—Ç–æ–º –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
- –ü–æ–∏—Å–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ –∫–æ—Ä–ø—É—Å—É, –≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Å–ª–æ—Ç–∞–º–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

### üìÖ US-2: –°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
**–ö–∞–∫** –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å,  
**–Ø —Ö–æ—á—É** —Å–æ–∑–¥–∞—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—É–¥–∏—Ç–æ—Ä–∏–∏ –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è,  
**–ß—Ç–æ–±—ã** –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞—Ç—å –ø–æ–º–µ—â–µ–Ω–∏–µ –¥–ª—è —Å–≤–æ–µ–≥–æ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è.

**‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∞—É–¥–∏—Ç–æ—Ä–∏–∏ –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª
- –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –±—Ä–æ–Ω—è–º–∏ –∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ —Å–æ–∑–¥–∞–Ω–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚ùå US-3: –û—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
**–ö–∞–∫** –≤–ª–∞–¥–µ–ª–µ—Ü –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è,  
**–Ø —Ö–æ—á—É** –æ—Ç–º–µ–Ω–∏—Ç—å —Å–≤–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ,  
**–ß—Ç–æ–±—ã** –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –∞—É–¥–∏—Ç–æ—Ä–∏—é –¥–ª—è –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

**‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Ç–º–µ–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –ü—Ä–∏ –æ—Ç–º–µ–Ω–µ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Å–ª–æ—Ç
- –î—Ä—É–≥–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —É–≤–∏–¥–µ—Ç—å –æ—Å–≤–æ–±–æ–¥–∏–≤—à—É—é—Å—è –∞—É–¥–∏—Ç–æ—Ä–∏—é –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –ø–æ–∏—Å–∫–∞

---

## üìä Load Estimation

### –†–∞—Å—á–µ—Ç –Ω–∞–≥—Ä—É–∑–∫–∏ –¥–ª—è 10,000 DAU (Daily Active Users)

#### –ü—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è:
- **DAU (Daily Active Users):** 10,000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **Peak hours:** 4 —á–∞—Å–∞ –≤ –¥–µ–Ω—å (08:00-12:00)
- **Average session duration:** 5 –º–∏–Ω—É—Ç
- **Requests per session:** 10 –∑–∞–ø—Ä–æ—Å–æ–≤
- **Read/Write ratio:** 80% Read, 20% Write

#### üöÄ –†–∞—Å—á–µ—Ç RPS (Requests Per Second):

**–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –¥–µ–Ω—å:**
```
10,000 DAU √ó 10 requests/session = 100,000 requests/day
```

**–ü–∏–∫–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ (4 —á–∞—Å–∞):**
```
100,000 requests / (4 hours √ó 3600 seconds) = ~7 RPS (average)
Peak factor (√ó3): 7 √ó 3 = 21 RPS
```

**–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ç–∏–ø–∞–º:**
- **Read requests:** 21 √ó 0.8 = **16.8 RPS**
- **Write requests:** 21 √ó 0.2 = **4.2 RPS**

#### üíæ –û–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö –∑–∞ 5 –ª–µ—Ç:

**–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:**
```
10,000 DAU √ó 2 bookings/month √ó 12 months √ó 5 years = 1,200,000 bookings
Average booking record size: ~500 bytes
Total bookings data: 1,200,000 √ó 500 bytes = 600 MB
```

**–õ–æ–≥–∏ –∞—É–¥–∏—Ç–∞:**
```
100,000 requests/day √ó 365 days √ó 5 years = 182,500,000 log entries
Average log entry size: ~200 bytes
Total logs data: 182,500,000 √ó 200 bytes = 36.5 GB
```

**–û–±—â–∏–π –æ–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö:**
```
Bookings: 600 MB
Logs: 36.5 GB
Metadata (users, rooms, etc.): ~100 MB
Total: ~37.2 GB –∑–∞ 5 –ª–µ—Ç
```

**–° —É—á–µ—Ç–æ–º –∏–Ω–¥–µ–∫—Å–æ–≤ –∏ overhead:**
```
Estimated total storage: ~50 GB –∑–∞ 5 –ª–µ—Ç
```

---

## üèóÔ∏è Architecture

### üóÑÔ∏è –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

#### üìã –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:

1. **users** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã
   - `id` (UUID), `email`, `password_hash`, `firstname`, `lastname`, `role`, `is_active`, `created_at`, `updated_at`
   - –ò–Ω–¥–µ–∫—Å—ã: `email` (unique), `role`

2. **buildings** - –ó–¥–∞–Ω–∏—è —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞
   - `id` (UUID), `code`, `name`, `address`
   - –ò–Ω–¥–µ–∫—Å—ã: `code` (unique)

3. **rooms** - –ê—É–¥–∏—Ç–æ—Ä–∏–∏
   - `id` (UUID), `building_id` (FK), `name`, `code`, `capacity`, `features` (JSONB)
   - –ò–Ω–¥–µ–∫—Å—ã: `building_id`, `code` (composite unique —á–µ—Ä–µ–∑ constraint)

4. **bookings** - –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
   - `id` (UUID), `user_id` (FK), `room_id` (FK), `starts_at`, `ends_at`, `status`, `created_at`, `updated_at`
   - –ò–Ω–¥–µ–∫—Å—ã: `user_id`, GIST exclusion constraint –Ω–∞ `(room_id, tstzrange(starts_at, ends_at))`

5. **schedules_import** - –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
   - `id` (UUID), `room_id` (FK), `starts_at`, `ends_at`, `source`, `hash`, `metadata` (JSONB), `updated_at`
   - –ò–Ω–¥–µ–∫—Å—ã: `room_id`, GIST –Ω–∞ `tstzrange(starts_at, ends_at)`

#### ü§î –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –≤—ã–±–æ—Ä–∞ PostgreSQL:

1. **ACID —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** - –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
2. **GIST –∏–Ω–¥–µ–∫—Å—ã** - –ù–∞—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤ —á–µ—Ä–µ–∑ exclusion constraints
3. **JSONB –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - –ì–∏–±–∫–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (features –∫–æ–º–Ω–∞—Ç, metadata –ª–æ–≥–æ–≤)
4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏, –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, connection pooling
5. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π (uuid-ossp, btree_gist)
6. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏, materialized views –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

### ‚ö° –°—Ç—Ä–∞—Ç–µ–≥–∏—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è (Scale out √ó10)

#### üîÑ –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

**üéØ 1. Stateless —Å–µ—Ä–≤–∏—Å—ã (–ª–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è):**
- **Booking API:** 1 ‚Üí 10 –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ (√ó10)
  - Load balancer (Nginx) —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã
  - Shared Redis –¥–ª—è —Å–µ—Å—Å–∏–π
  - Connection pooling –∫ PostgreSQL (20 connections √ó 10 = 200 total)

- **Room Directory:** 1 ‚Üí 10 –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ (√ó10)
  - Read-heavy –Ω–∞–≥—Ä—É–∑–∫–∞, –ª–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è
  - Redis cache —Å–Ω–∏–∂–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –ë–î

- **Frontend:** 1 ‚Üí 5 –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ (√ó5)
  - –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ CDN
  - Nginx load balancing

**üíæ 2. Stateful —Å–µ—Ä–≤–∏—Å—ã (—Ç—Ä–µ–±—É—é—Ç –æ—Å–æ–±–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞):**
- **Availability Engine:** 1 ‚Üí 5 –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ (√ó5)
  - gRPC load balancing (round-robin)
  - Shared Redis cache –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
  - Read replicas PostgreSQL –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏

- **PostgreSQL:**
  - Primary: 1 –∏–Ω—Å—Ç–∞–Ω—Å (write operations)
  - Read replicas: 3 –∏–Ω—Å—Ç–∞–Ω—Å–∞ (read operations)
  - Connection pooling: PgBouncer (200 ‚Üí 2000 connections)

- **Redis:**
  - Redis Cluster: 3 master + 3 replica nodes
  - Sharding –ø–æ –∫–ª—é—á–∞–º (room_id hash)

- **NATS:**
  - NATS Cluster: 3 nodes
  - JetStream replication factor: 3

#### üìà –û–∂–∏–¥–∞–µ–º–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ—Å–ª–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è:

```
–ò—Å—Ö–æ–¥–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞: 21 RPS
–ü–æ—Å–ª–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è (√ó10): 210 RPS capacity

Read requests: 168 RPS (16.8 √ó 10)
Write requests: 42 RPS (4.2 √ó 10)

Latency targets:
- Room search (cached): p95 < 100ms
- Availability check (cached): p95 < 300ms  
- Availability check (DB): p95 < 700ms
- Booking creation: p95 < 1000ms
```

#### üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è:

- **–ú–µ—Ç—Ä–∏–∫–∏:** CPU, Memory, Request rate, Error rate
- **–ê–≤—Ç–æ—Å–∫–µ–π–ª–∏–Ω–≥:** Kubernetes HPA –∏–ª–∏ Docker Swarm –Ω–∞ –æ—Å–Ω–æ–≤–µ CPU/Memory
- **–ê–ª–µ—Ä—Ç—ã:** –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ 80% capacity –∑–∞–ø—É—Å–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Backend:** Java 17 (Spring Boot 3.4), C++17 (gRPC)
- **Frontend:** React 18, TypeScript, Vite
- **Database:** PostgreSQL 16
- **Cache:** Redis 7
- **Message Broker:** NATS JetStream
- **Containerization:** Docker, Docker Compose
- **Build Tools:** Maven, CMake, Make

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker 20.10+
- Docker Compose 2.0+
- Make (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –°–±–æ—Ä–∫–∞ –≤—Å–µ—Ö –æ–±—Ä–∞–∑–æ–≤ (—Å –æ—á–∏—Å—Ç–∫–æ–π –∫—ç—à–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –±–∞–∑–æ–≤—ã—Ö –æ–±—Ä–∞–∑–æ–≤)
make build

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
make test

# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (—Å –æ—á–∏—Å—Ç–∫–æ–π —Å—Ç–∞—Ä—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤)
make run

# –ò–ª–∏ –≤—Å–µ —Å—Ä–∞–∑—É: build ‚Üí test ‚Üí run
make all

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
make up        # –ó–∞–ø—É—Å–∫ —Å –ø–µ—Ä–µ—Å–±–æ—Ä–∫–æ–π (--build)
make down      # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
make logs      # –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
make ps        # –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
make clean     # –û—á–∏—Å—Ç–∫–∞ volumes –∏ —Å–µ—Ç–µ–π
```

### üåê –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º

- **Frontend:** http://localhost:3000
- **Booking API:** http://localhost:8081
- **PostgreSQL:** localhost:5432
- **Redis:** localhost:6379
- **NATS:** localhost:4222
- **Availability Engine (gRPC):** localhost:50051

---

## üíª –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
spbstu-room-booking/
‚îú‚îÄ‚îÄ booking_API/          # Java Spring Boot —Å–µ—Ä–≤–∏—Å
‚îú‚îÄ‚îÄ availability_engine/  # C++ gRPC —Å–µ—Ä–≤–∏—Å
‚îú‚îÄ‚îÄ frontend/             # React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ infrastructure/      # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ docker-compose.yml    # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
‚îú‚îÄ‚îÄ Makefile             # –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏
‚îî‚îÄ‚îÄ README.md            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

### üîß –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–ë–î, Redis, NATS)
make up postgres redis nats

# –ò–ª–∏ —á–µ—Ä–µ–∑ docker-compose
docker-compose up -d postgres redis nats

# –ó–∞–ø—É—Å–∫ Java —Å–µ—Ä–≤–∏—Å–∞ –ª–æ–∫–∞–ª—å–Ω–æ
cd booking_API && ./mvnw spring-boot:run

# –ó–∞–ø—É—Å–∫ C++ —Å–µ—Ä–≤–∏—Å–∞ –ª–æ–∫–∞–ª—å–Ω–æ
cd availability_engine && mkdir -p build && cd build && cmake .. && make -j$(nproc)

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
make test

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
make logs
```

